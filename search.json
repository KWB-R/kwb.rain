[{"path":"https://kwb-r.github.io/kwb.rain/articles/validation.html","id":"rain-data-files","dir":"Articles","previous_headings":"","what":"Rain Data Files","title":"Rain Data Validation","text":"rain data provided Berliner Wasserbetriebe (BWB) come form Excel files (rain data files) store five minute period cumulative rain height measured different rain gauges end period. data raw, .e. represent logged rain gauges.","code":""},{"path":"https://kwb-r.github.io/kwb.rain/articles/validation.html","id":"rain-correction-files","dir":"Articles","previous_headings":"","what":"Rain Correction Files","title":"Rain Data Validation","text":"order calibrate rain gauges BWB staff visits rain gauges regular basis applies certain amount water . amount water appears additional rain height data represent actual rain needs excluded rain data. Therefore, BWB provides another set Excel files (rain correction files) contain day gauge expected actual total rain height gauge day.","code":""},{"path":"https://kwb-r.github.io/kwb.rain/articles/validation.html","id":"rain-data-validation","dir":"Articles","previous_headings":"","what":"Rain Data Validation","title":"Rain Data Validation","text":"task performed “rain data validation” find gauges days daily rain height calculated rain data files (raw rain height) differ corresponding values rain correction files (actual rain height). “distribute” difference actual rain height raw rain height given daily basis actual five minute time intervals differences probably occurred.","code":""},{"path":"https://kwb-r.github.io/kwb.rain/articles/validation.html","id":"method","dir":"Articles","previous_headings":"","what":"Method","title":"Rain Data Validation","text":"follow semi-automatic approach use script C:\\Users\\runneradmin\\Desktop\\R_Development\\RScripts\\Flusshygiene\\readBwbRainFiles.R read, reformat merge rain data correction data save result RData files script C:\\Users\\runneradmin\\Desktop\\R_Development\\RPackages\\kwb.rain\\inst\\extdata\\user_validation.R read rain data correction data RData files prepare csv files time intervals probably contain rain heights need correction indicated. first script reads rain data files <path_dir.data> correction files <path_dir.corr>. user can check CSV files created second script, edit appropriately save different name (userdiff_*.csv userdiffs folder). important save folder autodiffs files within folder always overwritten second script. editing userdiff-files, script C:/Users/runneradmin/Desktop/R_Development/RPackages/kwb.rain/inst/extdata/user_validation.R can used apply corrections defined user raw data store resulting validated data.","code":""},{"path":"https://kwb-r.github.io/kwb.rain/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Hauke Sonnenberg. Author, maintainer. Michael Rustler. Contributor. . Funder. . Funder. . Copyright holder.","code":""},{"path":"https://kwb-r.github.io/kwb.rain/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sonnenberg H (2022). kwb.rain: Functions Handle Plot Rain Data KWB. R package version 0.2.0.","code":"@Manual{,   title = {kwb.rain: Functions to Handle and Plot Rain Data at KWB},   author = {Hauke Sonnenberg},   year = {2022},   note = {R package version 0.2.0}, }"},{"path":[]},{"path":"https://kwb-r.github.io/kwb.rain/index.html","id":"installation-1","dir":"","previous_headings":"","what":"Installation","title":"Functions to Handle and Plot Rain Data at KWB","text":"installing latest release R package run following code :","code":"# Enable repository from kwb-r options(repos = c(   kwbr = 'https://kwb-r.r-universe.dev',   CRAN = 'https://cloud.r-project.org'))  # Download and install kwb.rain in R install.packages('kwb.rain')  # Browse the kwb.rain manual pages help(package = 'kwb.rain')"},{"path":"https://kwb-r.github.io/kwb.rain/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2016-2022 Kompetenzzentrum Wasser Berlin gGmbH (KWB) Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/aggregateByDay.html","id":null,"dir":"Reference","previous_headings":"","what":"aggregate rain data by day — aggregateByDay","title":"aggregate rain data by day — aggregateByDay","text":"aggregate rain data day","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/aggregateByDay.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"aggregate rain data by day — aggregateByDay","text":"","code":"aggregateByDay(x, FUN, ..., timeColumn = 1, excludeColumns = 1:2)"},{"path":"https://kwb-r.github.io/kwb.rain/reference/aggregateByDay.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"aggregate rain data by day — aggregateByDay","text":"x data frame containing least one date time column FUN aggregation function ... arguments passed FUN timeColumn number date time column excludeColumns vector column numbers excluded aggregation","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/checkForDuplicates.html","id":null,"dir":"Reference","previous_headings":"","what":"Stop if there are Duplicates and show them — checkForDuplicates","title":"Stop if there are Duplicates and show them — checkForDuplicates","text":"Stop Duplicates show ","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/checkForDuplicates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stop if there are Duplicates and show them — checkForDuplicates","text":"","code":"checkForDuplicates(x, keys)"},{"path":"https://kwb-r.github.io/kwb.rain/reference/checkForDuplicates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stop if there are Duplicates and show them — checkForDuplicates","text":"x data frame keys columns expected key columns contain duplicated value combinations","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/compactForGauges.html","id":null,"dir":"Reference","previous_headings":"","what":"Compact Signal Data — compactForGauges","title":"Compact Signal Data — compactForGauges","text":"Compact Signal Data","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/compactForGauges.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compact Signal Data — compactForGauges","text":"","code":"compactForGauges(   signals,   gauges,   validation,   level = 2,   stars = TRUE,   dbg = TRUE )"},{"path":"https://kwb-r.github.io/kwb.rain/reference/compactForGauges.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compact Signal Data — compactForGauges","text":"signals data frame returned kwb.read:::.toLongFormat(signals, type = \"signal\") gauges character vector rain gauge names validation data frame level level compression stars TRUE (default) stars used indicate differences dbg TRUE (default) debug messages shown","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/correctRainDiffs.html","id":null,"dir":"Reference","previous_headings":"","what":"Correct Rain Height Differences — correctRainDiffs","title":"Correct Rain Height Differences — correctRainDiffs","text":"Add one day data \"Date\" column time column \"\" time column \"\"","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/correctRainDiffs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Correct Rain Height Differences — correctRainDiffs","text":"","code":"correctRainDiffs(   rainDiffs,   userCorrections,   gauges = names(rainDiffs)[-(1:2)],   dbg = TRUE )"},{"path":"https://kwb-r.github.io/kwb.rain/reference/correctRainDiffs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Correct Rain Height Differences — correctRainDiffs","text":"rainDiffs rain height differences provided kwb.read:::.toDifferences userCorrections user correction data returned readUserCorrection gauges names rain gauges (appear column names rainDiffs) considered dbg TRUE (default) debug messages shown","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/corrToLongFormat.html","id":null,"dir":"Reference","previous_headings":"","what":"rain correction data from 'wide' format to 'long' format — corrToLongFormat","title":"rain correction data from 'wide' format to 'long' format — corrToLongFormat","text":"rain correction data 'wide' format 'long' format","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/corrToLongFormat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"rain correction data from 'wide' format to 'long' format — corrToLongFormat","text":"","code":"corrToLongFormat(corrData)"},{"path":"https://kwb-r.github.io/kwb.rain/reference/corrToLongFormat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"rain correction data from 'wide' format to 'long' format — corrToLongFormat","text":"corrData correction data returned kwb.read::readBwbRainCorrection","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/defaultArgumentAssignment.html","id":null,"dir":"Reference","previous_headings":"","what":"Output Template for Argument Assignments — defaultArgumentAssignment","title":"Output Template for Argument Assignments — defaultArgumentAssignment","text":"Output Template Argument Assignments","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/defaultArgumentAssignment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Output Template for Argument Assignments — defaultArgumentAssignment","text":"","code":"defaultArgumentAssignment(x, type = c(\"R\", \"csv\")[1])"},{"path":"https://kwb-r.github.io/kwb.rain/reference/defaultArgumentAssignment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Output Template for Argument Assignments — defaultArgumentAssignment","text":"x vector character type one \"R\", \"csv\"","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/getCorrectionCases.html","id":null,"dir":"Reference","previous_headings":"","what":"get the cases of required rain data correction — getCorrectionCases","title":"get the cases of required rain data correction — getCorrectionCases","text":"get data frame row representing gauge day rain data needs corrected","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/getCorrectionCases.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get the cases of required rain data correction — getCorrectionCases","text":"","code":"getCorrectionCases(corrData, rainData, ...)"},{"path":"https://kwb-r.github.io/kwb.rain/reference/getCorrectionCases.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get the cases of required rain data correction — getCorrectionCases","text":"corrData correction data returned kwb.read::readBwbRainCorrection rainData rain data returned kwb.read::readBwbRainData ... additional arguments passed final merge, .x (keep correction data even days rain data available), .y (keep rain data even days correction data available)","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/getDailyCumulativeRain.html","id":null,"dir":"Reference","previous_headings":"","what":"cumulate rain data within each day — getDailyCumulativeRain","title":"cumulate rain data within each day — getDailyCumulativeRain","text":"cumulate rain data within day","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/getDailyCumulativeRain.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"cumulate rain data within each day — getDailyCumulativeRain","text":"","code":"getDailyCumulativeRain(rd, to.long = TRUE)"},{"path":"https://kwb-r.github.io/kwb.rain/reference/getDailyCumulativeRain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"cumulate rain data within each day — getDailyCumulativeRain","text":"rd data frame containing rain data returned kwb.read::readBwbRainData .long TRUE (default) result data frame converted 'long' format.","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/getNeighbours.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the Names of Neighbouring Rain Gauges — getNeighbours","title":"Get the Names of Neighbouring Rain Gauges — getNeighbours","text":"Get Names Neighbouring Rain Gauges","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/getNeighbours.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the Names of Neighbouring Rain Gauges — getNeighbours","text":"","code":"getNeighbours(signals, gaugeInfo, n = 2, gaugePos = NULL)"},{"path":"https://kwb-r.github.io/kwb.rain/reference/getNeighbours.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the Names of Neighbouring Rain Gauges — getNeighbours","text":"signals data frame returned kwb.read:::.toLongFormat(signals, type = \"signal\") gaugeInfo data frame returned readAllBwbSignals attribute gaugeInfo n number neighbours gaugePos data frame containing gauge positions required getGaugeDistances","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/plotCumulativeRain.html","id":null,"dir":"Reference","previous_headings":"","what":"plot cumulative rain — plotCumulativeRain","title":"plot cumulative rain — plotCumulativeRain","text":"plot cumulative rain","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/plotCumulativeRain.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"plot cumulative rain — plotCumulativeRain","text":"","code":"plotCumulativeRain(rd.long, to.pdf = TRUE)"},{"path":"https://kwb-r.github.io/kwb.rain/reference/plotCumulativeRain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"plot cumulative rain — plotCumulativeRain","text":"rd.long data frame 'long' format returned getDailyCumulativeRain .pdf TRUE (default) plot goes temporary PDF file, otherwise current plot device","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/plotDailyRainHeightTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Tables of Daily Rain Heights (as Plots!) — plotDailyRainHeightTable","title":"Print Tables of Daily Rain Heights (as Plots!) — plotDailyRainHeightTable","text":"Print Tables Daily Rain Heights (Plots!)","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/plotDailyRainHeightTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Tables of Daily Rain Heights (as Plots!) — plotDailyRainHeightTable","text":"","code":"plotDailyRainHeightTable(   rd,   landscape = FALSE,   cex = ifelse(landscape, 0.8, 0.6),   ppp = ifelse(landscape, 1, 2),   to.pdf = TRUE )"},{"path":"https://kwb-r.github.io/kwb.rain/reference/plotDailyRainHeightTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Tables of Daily Rain Heights (as Plots!) — plotDailyRainHeightTable","text":"rd data frame time stamps first column rain heights per time interval different rain gauges columns landscape passed kwb.utils::preparePdf cex passed hsPrintToPlot ppp number plots per page .pdf TRUE output goes temporary PDF file","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/plotRainEventOverview.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot all rain events contained in rain data — plotRainEventOverview","title":"Plot all rain events contained in rain data — plotRainEventOverview","text":"Plot rain events contained rain data","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/plotRainEventOverview.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot all rain events contained in rain data — plotRainEventOverview","text":"","code":"plotRainEventOverview(rd, timeColumn = \"tEnd_BWB\", to.pdf = TRUE)"},{"path":"https://kwb-r.github.io/kwb.rain/reference/plotRainEventOverview.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot all rain events contained in rain data — plotRainEventOverview","text":"rd data frame time stamps first column rain heights per time interval different rain gauges columns timeColumn name column containing timestamps. Default: \"tEnd_BWB\" .pdf TRUE output goes temporary PDF file","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/rainToLongFormat.html","id":null,"dir":"Reference","previous_headings":"","what":"rain data from 'wide' format to 'long' format — rainToLongFormat","title":"rain data from 'wide' format to 'long' format — rainToLongFormat","text":"rain data 'wide' format 'long' format","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/rainToLongFormat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"rain data from 'wide' format to 'long' format — rainToLongFormat","text":"","code":"rainToLongFormat(rainData)"},{"path":"https://kwb-r.github.io/kwb.rain/reference/rainToLongFormat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"rain data from 'wide' format to 'long' format — rainToLongFormat","text":"rainData rain data returned kwb.read::readBwbRainData","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/readUserCorrection.html","id":null,"dir":"Reference","previous_headings":"","what":"Read User Correction Data from CSV File — readUserCorrection","title":"Read User Correction Data from CSV File — readUserCorrection","text":"Read User Correction Data CSV File","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/readUserCorrection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read User Correction Data from CSV File — readUserCorrection","text":"","code":"readUserCorrection(   file,   sep = \";\",   country = \"de\",   date.format = \"%d.%m.%Y\",   dbg = TRUE )"},{"path":"https://kwb-r.github.io/kwb.rain/reference/readUserCorrection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read User Correction Data from CSV File — readUserCorrection","text":"file full path CSV file sep column separator country country code (\"de\" \"en\") date.format date format string dbg TRUE (default) debug messages shown","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/reformat_rain_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Reformat Rain Data — reformat_rain_data","title":"Reformat Rain Data — reformat_rain_data","text":"Reformat rain data returned correctRainDiffs format required plotRainEventOverview.","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/reformat_rain_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reformat Rain Data — reformat_rain_data","text":"","code":"reformat_rain_data(rain)"},{"path":"https://kwb-r.github.io/kwb.rain/reference/reformat_rain_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reformat Rain Data — reformat_rain_data","text":"rain data frame begin end timestamps five minute time intervals first two (character) columns, rain heights five minute intervals remaining columns. data frame returned plotRainEventOverview","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/toGaugeSignals.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert raw Signals and Validation Data to Valid Signals — toGaugeSignals","title":"Convert raw Signals and Validation Data to Valid Signals — toGaugeSignals","text":"Convert raw Signals Validation Data Valid Signals","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/toGaugeSignals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert raw Signals and Validation Data to Valid Signals — toGaugeSignals","text":"","code":"toGaugeSignals(signals, validation, neighbours, digits = 3, ...)"},{"path":"https://kwb-r.github.io/kwb.rain/reference/toGaugeSignals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert raw Signals and Validation Data to Valid Signals — toGaugeSignals","text":"signals data frame returned kwb.read:::.toLongFormat(signals, type = \"signal\") validation data frame returned toValidationTable neighbours vector names neighbour gauges digits number digits signals rounded ... arguments passed compactForGauges","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/toValidationTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Validation Table from Signal and Correction Data — toValidationTable","title":"Create Validation Table from Signal and Correction Data — toValidationTable","text":"Create Validation Table Signal Correction Data","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/toValidationTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Validation Table from Signal and Correction Data — toValidationTable","text":"","code":"toValidationTable(signals, corrections)"},{"path":"https://kwb-r.github.io/kwb.rain/reference/toValidationTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Validation Table from Signal and Correction Data — toValidationTable","text":"signals data frame returned kwb.read:::.toLongFormat(signals, type = \"signal\") corrections data frame returned kwb.read:::.toLongFormat(corrections, type = \"correction\")","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/writeDiffFiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Write Files containing the ","title":"Write Files containing the ","text":"Write Files containing \"Diff\" raw valid rain signal","code":""},{"path":"https://kwb-r.github.io/kwb.rain/reference/writeDiffFiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write Files containing the ","text":"","code":"writeDiffFiles(   gaugeSignals,   dir.out,   gauges = names(gaugeSignals),   years = NULL,   suffix = NULL,   sep = \";\",   dec = \",\",   dbg = TRUE )"},{"path":"https://kwb-r.github.io/kwb.rain/reference/writeDiffFiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write Files containing the ","text":"gaugeSignals list data frames element representing one rain gauge dir.full path output directory gauges vector character containing names gauges files written years vector integer representing years diff files generated suffix used names created files sep column separator created CSV files dec decimal character created CSV files dbg TRUE (default) debug messages shown","code":""},{"path":"https://kwb-r.github.io/kwb.rain/news/index.html","id":"kwbrain-020-2022-06-10","dir":"Changelog","previous_headings":"","what":"kwb.rain 0.2.0 2022-06-10","title":"kwb.rain 0.2.0 2022-06-10","text":"Harmonise kwb.pkgbuild Added NEWS.md file track changes package. see https://style.tidyverse.org/news.html writing good NEWS.md","code":""}]
